window.ktoBookmarklet?window.ktoBookmarklet.toggleMenu():function(){var l,u,o,e,t,a,n,i,r={},c=!1,s=window.document;'file:'===s.location.protocol||'kierantop.github.io'===s.location.host||'github.com'===s.location.host?(l=(e,t)=>{if(alert(e),t)throw e},u=()=>{var e=s.activeElement;return e&&'textarea'===e.type||l('Please focus on a textarea',!0),[e,e.selectionStart,e.selectionEnd]},o=function(){var[e,t,o]=u(),a=[],n='selection',i=(void 0!==t&&void 0!==o&&0<o-t||(e.focus(),s.execCommand('selectAll',!1),t=e.selectionStart,o=e.selectionEnd,n='entire textarea'),e.value.substring(t,o)),r=0,i=i.replaceAll(/\!\[image\]\((https:\/\/github\.com\/user-attachments\/.*?)\)/g,(e,t)=>(r+=1,'<img width=30% src='+t+'>'));a.push('Replaced '+r+' occurence(s) of ![image](...) in '+n),s.execCommand?s.execCommand('insertText',!1,i):(a.push('Beware, your undo buffer might misbehave.'),e.value=e.value.substring(0,t)+i+e.value.substring(o)),l(a.join(' '))},e=(e,t)=>{var[o,a,n]=u(),i=[];s.execCommand?s.execCommand('insertText',!1,t):(o.value=o.value.substring(0,a)+t+o.value.substring(n),i.push('Beware, your undo buffer might misbehave.')),i.push('Inserted '+e+' at cursor'),l(i.join(' '))},t=e=>e.replaceAll(/^(\s+)/gm,'$1$1$1$1'),a=()=>{e('details',t(`<details>
 <summary>
  summary
 </summary>
 details
</details>
`))},n=()=>{e('table',t(`<table>
 <tr>
  <th>
   head1
  </th>
  <th>
   head2
  </th>
 </tr>
 <tr>
  <td>
   cell1
  </td>
  <td>
   cell2
  </td>
 </tr>
</table>
`))},i=(e,t)=>{var o=s.createElement('a');return o.setAttribute('href','#'),o.textContent=e,o.onmousedown=function(e){e.preventDefault()},o.onmouseup=function(e){e.preventDefault(),t()},o.onclick=function(e){e.preventDefault()},o},(r.toggleMenu=()=>{var e,t;c=c?(r.el.remove(),!1):((e=r.el=s.createElement('div')).setAttribute('style','width:100%;height:0;position:fixed;top:0;left:0;z-index:1000;'),(t=s.createElement('div')).setAttribute('style','color:#17303B;margin:auto;text-align:center;padding:10px;background-color:#eee;border:2px solid #A0AD39;opacity:0.9;font-family:arial'),['v0.1 | ',i('<img>',o),' | ',i('<table>',n),' | ',i('<details>',a)].forEach(e=>t.append(e)),e.appendChild(t),s.body.append(e),!0)})(),window.ktoBookmarklet=r):alert('Only run on github.com')}();
